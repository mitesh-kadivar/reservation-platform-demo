<div class="col-md-12">
    <nb-alert *ngIf="formError" [status]="statusType">{{formError}}</nb-alert>
    <nb-card>
        <nb-card-header>
            Add Resource
            <a class="btn btn-warning btn-sm float-right" routerLink="/pages/resources/index">
                <i class="fa fa-arrow-left fa-2x"></i>
            </a>
        </nb-card-header>
        <nb-card-body>
            <form [formGroup]="registerForm" (ngSubmit)="createResource()" enctype="multipart/form-data">
                <div class="form-group">
                    <label for="title" class="label">Title*</label>
                    <input
                        type="text"
                        formControlName="title"
                        nbInput fullWidth
                        id="title"
                        placeholder="Title"
                        autocomplete="off"
                    />
                    <div *ngIf="(getControl.title.touched || submitted) && getControl.title.invalid" class="text-danger">
                        <div *ngIf="getControl.title.errors && getControl.title.errors.required">Title is required!</div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="category" class="label">Category*</label>
                    <nb-select
                        fullWidth
                        name="category"
                        id="category"
                        fullWidth
                        formControlName="category_id"
                        placeholder="Category"
                    >
                        <nb-option [value]="category.id" *ngFor="let category of allCategories">
                            {{ category.title }}
                        </nb-option>
                    </nb-select>
                    <div *ngIf="(getControl.category_id.touched || submitted) && getControl.category_id.invalid" class="text-danger">
                        <label
                            *ngIf="getControl.category_id.errors?.required"
                            class="error"
                        >
                            Category is required!
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label for="image" class="label">Image</label>
                    <input
                        type="file"
                        nbInput fullWidth
                        id="image"
                        formControlName="image"
                        (change)="onFileChange($event)"
                    />
                    <div *ngIf="(getControl.image.touched || submitted) && getControl.image.invalid" class="text-danger">
                        <label
                            *ngIf="getControl.image.errors?.inValidExt && !getControl.image.errors?.required"
                            class="error"
                        >
                            Accepted only jpg, png, jpeg file.
                        </label>
                    </div>
                </div>
                <div class="text-center">
                <button
                    type="submit"
                    nbButton
                    status="danger"
                    [class.btn-primary]="registerForm.valid"
                    [class.btn-secondary]="!registerForm.valid"
                    class="btn btn-sm"
                >
                    Submit
                </button>
                </div>
            </form>
        </nb-card-body>
    </nb-card>
</div>